!function(e){function t(t){for(var r,c,u=t[0],l=t[1],i=t[2],p=0,f=[];p<u.length;p++)c=u[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=l;o.push([91,1]),n()}({91:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(22),c=n.n(o),u=n(17),l=n(6),i=n(8),s=Object(i.a)(),p=n(12),f=n(48),d=n(52),E=n(49),b=n(20),m=n.n(b),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?m.a.defaults.headers.common.authorization="Page ".concat(e):delete m.a.defaults.headers.common.authorization},O=n(26),h=n.n(O);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=Object(p.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"USER_LOGGED_IN":return v({},t.user,{loaded:!0});case"FETCH_CURRENT_USER_SUCCESS":return v({},e,{},t.user,{loaded:!0});case"USER_LOGGED_OUT":return{loaded:!0};default:return e}},locale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lang:"az"},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOCALE_SET":return{lang:t.lang};default:return e}}}),S=n(18),_=n.n(S),w=n(14),U="http://pts.edu.az",R={login:function(e){return m.a.post("".concat(U,"/api/auth"),{credentials:e}).then((function(e){return e.data.user}))},signup:function(e){return m.a.post("".concat(U,"/api/users"),{credentials:e}).then((function(e){return e.data.user}))},currentUser:function(){return m.a.get("".concat(U,"/api/users/current_user")).then((function(e){return e.data.user}))}};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var P=function(e){return{type:"USER_LOGGED_IN",user:e}},C=function(e){return function(t){return R.login(e).then((function(e){localStorage.professionJWT=e.token,g(e.token),t(P(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{loaded:!0})))}))}},x=function(){return function(e){localStorage.removeItem("professionJWT"),g(),e({type:"USER_LOGGED_OUT"})}},L=_.a.mark(k),D=_.a.mark(G);function k(e){var t;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(w.a)(R.signup,e.user);case 3:return t=n.sent,localStorage.professionJWT=t.token,n.next=7,Object(w.b)(P(t));case 7:s.push("/"),n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(w.b)({type:"CREATE_USER_FAILTURE",errors:n.t0.response.data.errors});case 14:case"end":return n.stop()}}),L,null,[[0,10]])}function G(){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(w.a)(R.currentUser);case 2:return e=t.sent,t.next=5,Object(w.b)(P(e));case 5:case"end":return t.stop()}}),D)}var H=_.a.mark(J);function J(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("CREATE_USER_REQUEST",k);case 2:return e.next=4,Object(w.c)("FETCH_CURRENT_USER_REQUEST",G);case 4:case"end":return e.stop()}}),H)}var N,Q=function(e){return{type:"LOCALE_SET",lang:e}},F=Object(d.a)(),W=Object(p.createStore)(y,{},Object(E.composeWithDevTools)(Object(p.applyMiddleware)(F,f.a)));F.run(J),localStorage.professionJWT?(g(localStorage.professionJWT),W.dispatch({type:"FETCH_CURRENT_USER_REQUEST"})):W.dispatch({type:"FETCH_CURRENT_USER_SUCCESS",user:N}),localStorage.professionLang&&W.dispatch(Q(localStorage.professionLang));var z=W,A=n(50),I=n.n(A),M=n(93),B=n(27),q=n.n(B),K=n(28),V=n.n(K),X=function(e){var t=e.component,n=V()(e,["component"]),r=Object(l.c)((function(e){return e.user.email}));return a.a.createElement(u.b,q()({},n,{render:function(e){return r?a.a.createElement(t,e):a.a.createElement(u.a,{to:"/"})}}))},Y=function(e){var t=e.component,n=V()(e,["component"]),r=Object(l.c)((function(e){return e.user.email}));return a.a.createElement(u.b,q()({},n,{render:function(e){return r?a.a.createElement(u.a,{to:"/dashboard"}):a.a.createElement(t,e)}}))},Z={en:{title:"PEŞƏ QƏBUL",home:"Home",login:"Login",logout:"Logout",signin:"Sign in",dashboard:"Dashboard"},az:{title:"PEŞƏ QƏBUL",home:"Home",login:"Login",logout:"Logout",signin:"Sign in",dashboard:"Dashboard"},ru:{title:"PEŞƏ QƏBUL",home:"Home",login:"Login",logout:"Logout",signin:"Sign in",dashboard:"Dashboard"}},$=n(15),ee=n(92),te=function(e){var t=Object(l.c)((function(e){return e.user})),n=Object(l.b)();return a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement("span",null,a.a.createElement(ee.a,{id:"home"})),t.email&&a.a.createElement("span",null,a.a.createElement("span",null," - ",t.username)," - ",a.a.createElement("span",{onClick:function(){n(x())},style:{cursor:"pointer",color:"red"}},a.a.createElement(ee.a,{id:"logout"})))),a.a.createElement("p",null,a.a.createElement($.a,{to:"/login"},a.a.createElement(ee.a,{id:"login"}))),a.a.createElement("p",null,a.a.createElement($.a,{to:"/dashboard"},a.a.createElement(ee.a,{id:"dashboard"}))))},ne=n(37),re=n.n(ne),ae=function(e){var t=Object(r.useState)(""),n=re()(t,2),o=n[0],c=n[1],u=Object(r.useState)(""),i=re()(u,2),s=i[0],p=i[1],f=Object(l.b)();return a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement($.a,{to:"/"},a.a.createElement(ee.a,{id:"home"}))),a.a.createElement("p",null,a.a.createElement(ee.a,{id:"login"})),a.a.createElement("input",{type:"text",id:"email",onChange:function(e){return c(e.target.value)}}),a.a.createElement("input",{type:"password",id:"password",onChange:function(e){return p(e.target.value)}}),a.a.createElement("button",{onClick:function(){f(C({email:o,password:s}))}},a.a.createElement(ee.a,{id:"signin"})))},oe=function(e){var t=Object(l.c)((function(e){return e.user})),n=Object(l.b)();return a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement("span",null,a.a.createElement(ee.a,{id:"dasborad"})),t.email&&a.a.createElement("span",null,a.a.createElement("span",null," - ",t.username)," - ",a.a.createElement("span",{onClick:function(){n(x())},style:{cursor:"pointer",color:"red"}},a.a.createElement(ee.a,{id:"logout"})))))};c.a.render(a.a.createElement(u.c,{history:s},a.a.createElement(l.a,{store:z},a.a.createElement(u.b,{component:function(e){var t=e.location,n=Object(l.b)(),o=Object(l.c)((function(e){return e.lang})),c=Object(l.c)((function(e){return!!e.user.email})),u=Object(l.c)((function(e){return e.user.loaded}));return Object(r.useEffect)((function(){c&&n({type:"FETCH_CURRENT_USER_REQUEST"})})),a.a.createElement(M.a,{locale:o,messages:Z[o]},a.a.createElement(I.a,{loaded:u},a.a.createElement(Y,{location:t,path:"/",exact:!0,component:te}),a.a.createElement(Y,{location:t,path:"/login",exact:!0,component:ae}),a.a.createElement(X,{location:t,path:"/dashboard",exact:!0,component:oe})))}}))),document.getElementById("root"))}});